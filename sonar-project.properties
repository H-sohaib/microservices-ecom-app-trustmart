# SonarQube Configuration for TrustMart Microservices
# =====================================================

# Project identification
sonar.projectKey=trustmart-microservices
sonar.projectName=TrustMart Microservices
sonar.projectVersion=1.0.0

# SonarQube Server Configuration
# SonarQube Server Configuration
# SonarQube Server Configuration
sonar.host.url=${env.SONAR_HOST_URL}
sonar.token=${env.SONAR_TOKEN}




# Project structure - Multi-module Maven project
sonar.modules=discovery-service,gateway-service,product-service,command-service,trustmart-frontend

# Module configurations
discovery-service.sonar.projectName=Discovery Service
discovery-service.sonar.sources=src/main/java
discovery-service.sonar.tests=src/test/java
discovery-service.sonar.java.binaries=target/classes
discovery-service.sonar.java.test.binaries=target/test-classes

gateway-service.sonar.projectName=Gateway Service
gateway-service.sonar.sources=src/main/java
gateway-service.sonar.tests=src/test/java
gateway-service.sonar.java.binaries=target/classes
gateway-service.sonar.java.test.binaries=target/test-classes

product-service.sonar.projectName=Product Service
product-service.sonar.sources=src/main/java
product-service.sonar.tests=src/test/java
product-service.sonar.java.binaries=target/classes
product-service.sonar.java.test.binaries=target/test-classes

command-service.sonar.projectName=Command Service
command-service.sonar.sources=src/main/java
command-service.sonar.tests=src/test/java
command-service.sonar.java.binaries=target/classes
command-service.sonar.java.test.binaries=target/test-classes

trustmart-frontend.sonar.projectName=TrustMart Frontend
trustmart-frontend.sonar.sources=src
trustmart-frontend.sonar.tests=src
trustmart-frontend.sonar.exclusions=**/node_modules/**,**/dist/**,**/*.spec.ts,**/*.test.ts
trustmart-frontend.sonar.test.inclusions=**/*.spec.ts,**/*.test.ts

# Source encoding
sonar.sourceEncoding=UTF-8

# Exclusions - files/folders to ignore
sonar.exclusions=\
  **/node_modules/**,\
  **/target/**,\
  **/dist/**,\
  **/*.min.js,\
  **/*.min.css,\
  **/vendor/**,\
  **/.mvn/**,\
  **/logs/**

# Test exclusions
sonar.test.exclusions=\
  **/node_modules/**,\
  **/target/**

# Coverage exclusions (files not to measure coverage for)
sonar.coverage.exclusions=\
  **/config/**,\
  **/dto/**,\
  **/entity/**,\
  **/model/**,\
  **/exception/**,\
  **/*Application.java,\
  **/*Config.java

# Duplication exclusions
sonar.cpd.exclusions=\
  **/dto/**,\
  **/entity/**,\
  **/model/**

# Java specific settings
sonar.java.source=21
sonar.java.target=21

# TypeScript/JavaScript settings for frontend
sonar.typescript.lcov.reportPaths=trustmart-frontend/coverage/lcov.info
sonar.javascript.lcov.reportPaths=trustmart-frontend/coverage/lcov.info

# Security hotspots - review these manually
sonar.security.hotspots.inheritedRules=true

# Quality gate - fail on new code issues
sonar.qualitygate.wait=true

